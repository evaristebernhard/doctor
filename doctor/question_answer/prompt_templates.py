"""
提示词模板模块
定义问题分类的提示词模板
该文件用于构造问题分类任务的提示词，指导大模型进行问题类型识别
"""

# 导入项目模块
from question_answer.purpose_type import purpose_map  # 问题类型映射

# 定义问题分类的提示词模板
purpose_type_template = (
    # 指定角色和分类类别数量
    f"你扮演文本分类的工具助手，类别有{len(purpose_map)}种，"
    # 列出所有分类类别
    f"分别为：文本生成,图片生成,视频生成,音频生成,图片描述,问候语,PPT生成,Word生成,网络搜索,基于知识库,基于知识图谱,其他。"
    # 提供分类示例
    f"下面给出一些例子用来辅助你判别："
    f"'我想了解糖尿病' ，文本分类结果是文本生成；"
    f"'请生成老年人练习太极的图片'，文本分类结果是图片生成；"
    f"'你可以生成一段关于春天的视频吗'，文本分类结果是视频生成；"
    f"'请将上述文本转换成语音'，文本分类结果是音频生成；"
    f"'糖尿病如何治疗？请用语音回答'，文本分类结果是音频生成；"
    f"'请你描述这张美丽的图片'，文本分类结果是图片描述；"
    f"'您好！你是谁？',文本分类结果是问候语；"
    f"'请你用制作一份关于糖尿病的PPT',文本分类结果是PPT生成；"
    f"'请你用word制作一份关于糖尿病的报告',文本分类结果是Word生成；"
    f"'请在互联网上找到养生保健的相关知识',文本分类结果是网络搜索；"
    f"'知识库中有什么糖尿病相关的知识',文本分类结果是基于知识库；"
    f"'知识图谱中有什么糖尿病相关的知识',文本分类结果是基于知识图谱；"
    f"'我有糖尿病，帮我制定一个饮食锻炼计划' ，文本分类结果是文本生成；"
    # 指定输出要求
    f"如果以上内容没有对应的类别，文本分类结果是其他。"
    f"请参考上面例子，直接给出一种分类结果，不要解释，不要多余的内容，不要多余的符号，不要多余的空格，不要多余的空行，不要多余的换行，不要多余的标点符号。"
    # 添加分类指令
    f"请你对以下内容进行文本分类："
)


def get_question_parser_prompt(text: str) -> str:
    """
    根据输入文本生成完整的问题分类提示词
    
    Args:
        text (str): 输入的文本
        
    Returns:
        str: 构造的提示词
    """
    # 将输入文本附加到提示词模板后
    return f"{purpose_type_template} {text}"